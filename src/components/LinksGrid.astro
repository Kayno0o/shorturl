---
import type { Link } from '../api/orm/entities/link'
import type { User } from '../api/orm/entities/user'
import Card from './Card.astro'
import LinkCard from './LinkCard.astro'

export interface Props {
  links: Link[]
  shortUrl: string
  user: User
}

const { links, shortUrl, user } = Astro.props
---

{links.length > 0 && (
  <Card class="p-6">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
        Your Links
      </h2>
      <span class="text-sm text-gray-500 dark:text-gray-400">
        {links.length} total
      </span>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
      {links.map(link => (
        <LinkCard
          code={link.code}
          value={link.value}
          shortUrl={shortUrl}
          clickCount={link.clickCount}
          user={user}
        />
      ))}
    </div>
  </Card>
)}
